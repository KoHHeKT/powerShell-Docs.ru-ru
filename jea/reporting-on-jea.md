---
description: 
manager: dongill
ms.topic: article
author: jpjofre
ms.prod: powershell
keywords: powershell,cmdlet,jea
ms.date: 2016-06-22
title: "отчеты о jea"
ms.technology: powershell
ms.openlocfilehash: 3e7bd2755281f491bba8a905df018fb2e1cac6ff
ms.sourcegitcommit: c732e3ee6d2e0e9cd8c40105d6fbfd4d207b730d
translationtype: HT
---
# <a name="reporting-on-jea"></a>Отчеты о JEA
Так как JEA позволяет непривилегированным пользователям работать в привилегированном контексте, ведение журнала и аудит получают особое значение.
В этом разделе мы рассмотрим инструменты, которые помогут вам вести журналы и отчетность.

## <a name="reporting-on-jea-actions"></a>Отчеты о действиях JEA
### <a name="over-the-shoulder-transcription"></a>Запись с "подсматриванием"
Один из самых быстрых способов понять, что происходит в сеансе PowerShell, — просто подсмотреть за пользователем.
Вы увидите команды, результаты выполнения этих команд и убедитесь, что все в порядке.
Если что-то не так, вы по меньшей мере об этом узнаете.
Запись PowerShell позволяет получить похожее представление постфактум.

При использовании поля "TranscriptDirectory" в конфигурации сеанса PowerShell автоматически запишет все действия пользователя, предпринятые в течение данного сеанса.
Записи сеансов см. в документе, который находится в папке "$env:ProgramData\JEAConfiguration\Transcripts".

Как можно видеть, запись содержит сведения о подключенном пользователе, пользователе, от имени которого ведется работа, выполняемые в ходе сеанса команды и многое другое.
Дополнительные сведения о записях PowerShell см. в этой [записи в блоге](http://blogs.msdn.com/b/powershell/archive/2015/06/09/powershell-the-blue-team.aspx).

### <a name="powershell-event-logs"></a>Журналы событий PowerShell
После того как вы включите запись журнала модуля, все действия PowerShell будут также записываться в обычные журналы событий Windows.
Работать с ними сложнее, чем с записями, но журналы обеспечивают более глубокий уровень детализации.

Если ведение журнала модулей включено, по идентификатору события 4104 в журнале операций PowerShell можно видеть запись всех вызванных команд.

### <a name="other-event-logs"></a>Другие журналы событий
В отличие от журналов и записей PowerShell, другие механизмы ведения журнала не записывают действия подключенного пользователя.
Для сопоставления предпринятых действий потребуется соотнести журналы PowerShell и другие журналы.

По идентификатору события 193 в журнале операций "Служба удаленного управления Windows" будут записаны SID и имя подключенного пользователя, а также SID виртуальной учетной записи запуска от имени для подобного соотнесения.
Как вы могли заметить, имя виртуальной учетной записи запуска от имени заканчивается именем домена и именем подключенного пользователя.

## <a name="reporting-on-jea-configuration"></a>Отчеты о конфигурации JEA
### <a name="get-pssessionconfiguration"></a>Get-PSSessionConfiguration
Для получения точных отчетов о состоянии среды важно знать, сколько конечных точек JEA настроено на вашем компьютере.
`Get-PSSessionConfiguration` делает именно это.

### <a name="get-pssessioncapability"></a>Get-PSSessionCapability
Создавать отчеты по возможностям того или иного пользователя через конечную точку JEA может быть непросто.
Для этого иногда придется проверить несколько отдельных возможностей ролей.
К счастью, с этой задачей справляется командлет "Get-PSSessionCapability".

Чтобы убедиться, выполните следующую команду в командной строке администратора PowerShell:
```PowerShell
Get-PSSessionCapability -Username 'CONTOSO\OperatorUser' -ConfigurationName JEADemo
```

